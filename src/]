<template>
	<div class="flex">

	<NavSidebar
	/>

	<div class="flex flex-col w-full h-full">

	<MainHeader
	/>

	main app is here

	<router-view>
	</router-view>

	</div>

	</div>
</template>

<script>
import { defineComponent, onBeforeMount, computed } from 'vue';
import { useStore } from 'vuex';


import NavSidebar from '@/components/nav/NavSidebar.vue';
import MainHeader from '@/components/nav/MainHeader.vue';

export default defineComponent({
	name: "App",
	components: {
		NavSidebar,
		MainHeader,
	},
	setup () {
		const store = useStore()
		// computed
		const is_authorized = computed(() => store.state.authorization.is_authorized);
		// functions
		onBeforeMount(async () => {
			// try to auth user
			await store.dispatch("authorization/checkUserAuth")
		});
	}
});
</script>
